{% extends "base.html" %}

{% block content %}

 

<div class="wrapper" >
  
    <div class="posts " id="global">
    <section class="main-section row" id="mensajes">
    
    {% if posteos %}
            
    {% for post in posteos %}

        <div class="card" style="width: 16rem;  border: 5px; margin: 6px; height: auto;"  >
          <a href="{% url 'leer_posteo' id=post.id %}">
            <img src="{{post.imagen.url}}" class="card-img-top" >   
          </a>
            
            <div class="card-body" >
              <a href="{% url 'leer_posteo' id=post.id %}">
                <h5 class="card-title"  > {{ post.titulo }}</h5>
              </a>
                <div class="cardbody"></div>
                <div class="card-text" style="width: auto; height: 6rem;" >
                   <p>{{ post.pre_contenido }}</p> 
                </div>
                <p class="card-text"><small class="text-muted">{{ post.creado_en }}</small></p>
                               
                <a href="{% url 'leer_posteo' id=post.id %}" style="color: #167dff; " > 
                   Leer más 
                 
                </a>
                              
            </div>
        </div> 

    {% endfor %}

    {% else %}
        <h2 style="text-align: center;">No hay posts</h2>
    {% endif %}

    </section>

    </div>
    <div class="lista" id=global>
      <div id="mensajes">
      <br>
      <ol style="margin-left: -20px; text-align: center;">
        Objetivos de Desarrollo Sostenibles
        <br>
       
        <a class=" btn btn-success" href="{% url 'feed' %}" style="background:seagreen; width: 12rem; " >Todos </a>
        <br>
        
        <section class="main-section2 ">
        {% for categoria in categorias %}
       
        <a href= "{% url 'buscar_por_catetoria' id=categoria.id %}"  style="margin-left: 1rem;" >
          <br>
          <img src="{{categoria.imagen.url}} " alt="categorias" style="height: 10rem; width: 10rem; "> 
          
        </a>
        
        </selection>
      
        {% endfor %} 
      </ol>
    </div>
    </div>
    
    

    <div class="otras_cosas">
      
     
      <br>
        <a  class="btn btn-success " href="{% url 'perfil_usuario' %}"  style="width: auto; margin-left: 5rem;">Crear Posteo</a>
        <br>
      

      Buscar post por comentarios
      <br>

      <form  class=" d-flex justify-content-center " action="{% url 'busqueda_por_comentario' %}" method="GET"> {% csrf_token %}
        <div class="btn-group " method="GET">
            <input class="form-control col-xl-8 " id="comentario_buscado" name="comentario_buscado" style="width: auto;" type="text" placeholder="Buscar" aria-label="Search">
            <button class="btn btn-outline-success" >Buscar</button>
       </div>
    </form>

     
      <br>
      Buscar post por fecha
      <br>
      <form  class=" d-flex justify-content-center " action="{% url 'busqueda_por_fecha' %}" method="GET"> {% csrf_token %}
        <div class="btn-group " method="GET">
            <input class="form-control col-xl-12 " id="fecha_buscada" name="fecha_buscada" style="width: auto;" type="date"  placeholder="Buscar" aria-label="Search">
            <button class="btn btn-outline-success" >Buscar</button>
       </div>
    </form>
      <br>

    <div colspan="2">
     
      {% if top_posts %}
        <h4 style="text-align: center;">Los post con más <br>  Me gusta </h4>
        <div class="dropdown-divider"></div>
        <ol>
        {% for post in top_posts %}
        
          <li>
            <a href="{% url 'leer_posteo' id=post.id %}">
              {{ post.titulo }}
            </a>
            
          </li>
        {% endfor %}

        {% else %}
          <h2>No hay posts</h2>
        {% endif %}       
    </div>

    </div>
  </div>
    

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
    
{% endblock %}
